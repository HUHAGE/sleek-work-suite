# 菜单管理功能更新

## 更新内容

在设置页面新增了"菜单管理"功能，用户可以自定义侧边栏菜单的显示和排序。

## 功能特性

### 1. 菜单显示控制
- 每个菜单项配有iOS风格的开关按钮
- 开启状态：菜单在侧边栏显示
- 关闭状态：菜单在侧边栏隐藏
- 实时生效，无需刷新
- **注意：HUHA工具集固定在底部，不在菜单管理列表中显示**

### 2. 菜单排序
- 每个菜单项右侧有上下箭头按钮
- 向上箭头：将菜单项向上移动
- 向下箭头：将菜单项向下移动
- 侧边栏立即按新顺序重新排列
- **注意：HUHA工具集固定在底部，不参与排序**

### 3. 配置持久化
- 所有配置自动保存到本地
- 应用重启后自动恢复配置

## 使用说明

1. 打开应用，点击侧边栏底部的"设置"按钮
2. 在设置页面向下滚动，找到"菜单管理"部分
3. 使用开关控制菜单的显示/隐藏
4. 使用上下箭头调整菜单顺序
5. 所有更改自动保存

## 技术实现

### 修改的文件

1. **src/lib/store/settings.ts**
   - 添加 `MenuConfig` 接口
   - 添加 `menuConfigs` 状态
   - 添加 `setMenuConfigs` 方法
   - 更新保存和加载逻辑

2. **src/components/MenuManagement.tsx** (新建)
   - 菜单管理主组件
   - 实现开关和排序功能
   - 处理配置的初始化和更新

3. **src/components/tools/SettingsTools.tsx**
   - 添加 `tools` 属性接收
   - 集成 `MenuManagement` 组件

4. **src/pages/Index.tsx**
   - 添加 `getVisibleTools` 函数
   - 根据配置过滤和排序菜单
   - 传递 `tools` 给 `SettingsTools`

### 数据流

```
用户操作 → MenuManagement 组件
    ↓
更新 Zustand Store (menuConfigs)
    ↓
自动保存到本地 (Electron IPC)
    ↓
Index 页面监听变化
    ↓
重新渲染侧边栏菜单
```

## 注意事项

- 菜单配置存储在应用设置中，与主题、侧边栏等配置一起保存
- 如果没有配置，默认显示所有菜单
- 新增菜单会自动添加到配置列表末尾，默认启用
- 删除的菜单配置会在下次加载时自动清理
- **HUHA工具集固定在侧边栏底部，不在菜单管理中显示，也不参与排序**
