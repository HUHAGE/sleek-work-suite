# AI代码评审功能

## 功能概述

AI代码评审是一个智能代码审查工具，用户可以上传单个或多个代码文件，通过AI获取专业的代码评审建议和改进意见。

## 主要特性

### 1. 文件上传
- 支持单个或多个代码文件上传
- 支持多种编程语言文件格式：
  - JavaScript/TypeScript (.js, .ts, .jsx, .tsx)
  - Java (.java)
  - Python (.py)
  - PHP (.php)
  - C# (.cs)
  - Go (.go)
  - Ruby (.rb)
  - C/C++ (.c, .cpp, .h, .hpp)
  - 其他常见语言文件

### 2. AI评审
- 点击"开始评审"按钮，调用AI接口进行代码分析
- 实时显示评审进度
- 自动保存评审结果

### 3. 评审历史管理
- 查看所有历史评审记录
- 支持预览、复制、下载评审结果
- 可删除单条记录或清空全部历史

### 4. 结果导出
- 支持将评审结果下载为文本文件
- 支持一键复制评审结果到剪贴板

## 技术实现

### API接口
- **接口地址**: `https://8pj8hj7r8w.coze.site/run`
- **认证方式**: Bearer Token
- **请求方法**: POST
- **请求格式**: JSON

### 请求示例
```json
{
  "code_files": [
    {
      "name": "example.js",
      "content": "// 代码内容"
    }
  ]
}
```

### 数据存储
- 使用 localStorage 存储评审历史
- 存储键: `ai-code-review-results`
- 自动加载历史记录

## 使用流程

1. 点击"选择文件"按钮上传代码文件
2. 可以上传多个文件进行批量评审
3. 点击"开始评审"按钮
4. 等待AI分析完成
5. 自动弹出预览窗口查看评审结果
6. 可以复制、下载或保存评审结果

## 注意事项

- 确保网络连接正常
- 上传的文件应为文本格式的代码文件
- 评审结果保存在本地浏览器存储中
- 清除浏览器数据会导致历史记录丢失

## 菜单集成

该功能已集成到主菜单中：
- 菜单ID: `ai-code-review`
- 菜单名称: AI代码评审
- 菜单图标: Brain (大脑图标)
- 菜单描述: 上传代码文件，AI将为您提供专业的代码评审建议和改进意见

## 文件结构

```
src/
  components/
    tools/
      AiCodeReview.tsx    # AI代码评审组件
  pages/
    Index.tsx             # 主页面（已集成新菜单）
docs/
  ai-code-review.md       # 功能文档
```

## 更新日期

2026-01-04
